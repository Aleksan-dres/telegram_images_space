# Приложения для скачивания фотографий с сайтов NASA и SpaceX, и публикация скачаных фотографий в телеграмм канале. 
## Введение  
Данные приложения помогут вам скачать фотографии космической тематики с сайтов NASA, SpaceX в интересующий вас период времени, а так же поделиться ими в телеграмм канале. 
### Как установить  
Для запуска этих скриптов должен быть установлен Python версии 3.9.0, на данной версии скрипты запускаются удачно. Затем используйте `pip` для установки необходимых библиотек используемых в данных скриптах, они лежат в файле `requirements.txt`. При работе в  `VS code` на Windows при запуске скриптов связанных с телеграмом необходимо еще дополнительно установить `pip install virtualenv` для создания переменного окружения и использования необходимой библиотеки телеграмм бота.  


##### Используемые библиотеки.    
 * `pillow` библиотека которая используется для работы с изображениями. Она применена для изменения размера фотографии и используется в скрипте `images_telegram.py`
 * `python-dotenv` пакет который загружает вашей среде разработки переменную среду. Создайте папку `.env` в вашей среде разработки и положите туда свои ключи `NASA_API`,`telegram_TOKEN`.
     * Пример данных в папке `.env`
       ```
       NASA_API = "Значение вашего API ключа"
       telegram_TOKEN = "Значение вашего API ключа"

       ```
 * `python-telegram-bot` данный пакет необходим для работы с телеграмм ботом, который вы должны создать в приложении `Telegram` обратившись к инструменту телеграмма `BotFather` и получить от него токен бота. Токен необходим библиотеке для работы с ботом.
 * `requests` пакет который необходим для работы с API запросами. С его помощью выполняются запросы к сайтам.
 * `urllib3` пакет который необходим для форматирования полученных данных от сайтов, которые используются в скриптах.


В командной строке выполните следующий запрос 

  ```
pip install -r requirements.txt 
 ```

Выполнится установка используемых библиотек на вашем компьютере. Далее можете использовать скрипты. 
![space_1](https://github.com/user-attachments/assets/b594c1c5-c491-4efe-b3fe-95749016b062) 


## fetch_spaceX_images.py  
Это исполнительный файл который выполняет запрос к сайту где хранятся фотографии сделанные с запусков ракет SpaceX. Для того что бы получить фотографии необходимо знать `ID` запуска при котором делали фотографии. 


Для примера выполните следующую команду в терминале:

```
python fetch_spacex_image.py -ID_spaceX 61fc0224e0dc5662b76489ab
```
 
![space_2](https://github.com/user-attachments/assets/e2c78523-33f2-436d-a91f-f6205fa85eb5) 


В папку `foto_space` сохранятся фотографии с запуска ракеты. 

В тех случаях когда вы не знаете `ID` в командной строке укажите значение "latest". Скрипт выведет фотографии с последнего запуска. Но бывает так, что на последнем запуске не делали фотографии и скрипт выведет `Фотографии отсутствуют для данного запуска`.


Пример кода: 

```
python fetch_spacex_image.py -ID_spaceX latest
```

![space_3](https://github.com/user-attachments/assets/b3ec869e-d37e-4b04-a1ae-191935a7f161)
В данном случае остается только выводить значение всех запусков и искать при которых делали фотографии. 


## EPIC_image.py 
Это исполнительный файл который выполняет запрос к сайту NASA где они выкладывают фотографии Земли сделанные со спутника. Фото получаются действительно эпичные. Для получения этих фотографий необходимо указать дату и будут загружены последние доступные фотографии. 


Пример кода: 

```
python EPIC_images.py -date 2025-04-22
```

![space_4](https://github.com/user-attachments/assets/d01ce378-c133-41d2-adb9-e5e6317f927e)


В папку `foto_space` сохранятся 10 фотографий Земли из космоса.  


## NASA_images.py 
Это исполнительный файл который выполняет запрос к сайту NASA, где они выкладывают лучшее фото дня каждый день. Для получения этих фотографий необходимо указать период времени за который хотите их получить. 


Пример кода: 

```
python NASA_images.py -start 2025-02-21 -end 2025-03-21
```

![space_5](https://github.com/user-attachments/assets/9ecac616-48da-4ec1-a1a9-9cf27c0c9c4a) 


В папку `foto_space` сохранятся фотографии за указаный период. 
Но бывает так, что фотографий меньше чем период который вы указали. Это связано с тем что на сайте не всегда выкладывают фотографию. Сильно не удивляться, такое бывает.   


## one_foto_telegram.py 
Это скрипт для отправки определенной фотографии которую вы получили в предыдущих скриптах (не обезательно те самые фотографии, вы можете загрузить в папку `foto_space` другие фотографии которые вам понравились) и отправить их через телеграмм бота себе. Для работы с этим скриптом необходим токен телеграмм бота (как получить его описано в описании к библиотеке `python-telegram-bot`). А  так же необходимо указать название фотографии которой хотите опубликовать. В скрипте указано название `spacex2.jpg`. Не забудь те указать свой `id` телеграмма, что бы фотография приходила вам. 


Пример кода: 

```
python one_foto_telegram.py
```

![space_6](https://github.com/user-attachments/assets/727f192e-0943-4573-967a-d01d7867b278) 


В результате работы скрипта вам в телеграмм прийдет файл с фотографией которую вы указали.


## images_telegram.py 
Данный скрипт выполняет отправку фотографий которые вы получили в предыдущих скриптах(не обезательно те самые фотографии, вы можете загрузить в папку `foto_space` другие фотографии которые вам понравились), в ваш телеграмм канал в котором бот должен иметь права Администратора. Для работы данного скрипта необходим токен телеграмм бота (как получить его описано в описании к библиотеке `python-telegram-bot`), указать промежуток времени через который будут публиковаться фотографии. 


Пример кода: 

```
python images_telegram.py -interval 14400
```

![space_7](https://github.com/user-attachments/assets/b853303f-df1b-4447-9a16-4c723c8373d0)


Запускается бесконечный код в котором через промежуток времени(в примере 4 часа), который вы указали, происходит отправка случайной фотографии (например из файла где лежат фотографии космоса скачанные ранее) вам в телеграмм канал. Так же особенностью данного скрипта является то, что он отправляет фотографии любого размера (в телеграмме установлен лимит 20 МБ), так как предусмотрена возможность ужатия по обьему фотографии. Остановку скрипта выполняется в ручную.  


 ## Цель проекта  
 Код написан в образовательных целях на онлай-курсе для веб-разработчиков [dvmn.org](hhtps://dvmn.org/).




